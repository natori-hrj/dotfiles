# rules/agents.md
---
name: agents
description: エージェント使用ルール
---

## エージェント委譲のタイミング

### 委譲すべきタスク

#### planner（計画）
- 新機能の実装設計
- 複数ステップにまたがるタスク
- 依存関係が複雑な作業
- リファクタリング計画

#### architect（設計）
- システムアーキテクチャの決定
- 技術選定
- データベース設計
- API設計

#### code-reviewer（レビュー）
- プルリクエストのレビュー
- セキュリティ観点の確認
- コード品質のチェック
- ベストプラクティスの遵守確認

#### security-reviewer（セキュリティ）
- 脆弱性分析
- 認証・認可の実装確認
- 機密データの取り扱い確認
- OWASP Top 10のチェック

#### tdd-guide（TDD）
- テスト駆動開発のガイド
- テスト設計の支援
- テストカバレッジの改善

### 直接対応すべきタスク
- 単純なバグ修正（1-2ファイル）
- typoの修正
- コメントの追加
- 設定値の変更
- 小規模なリファクタリング

## エージェント使用の原則

### 効率性
- 適切なエージェントを選択
- 不要なエージェント呼び出しを避ける
- コンテキストを適切に渡す

### 品質
- エージェントの出力を検証
- 必要に応じて追加の修正
- 結果をユーザーに報告

### コンテキスト管理
- 必要最小限の情報を渡す
- 大きなファイルは要約して渡す
- 関連ファイルのみを含める
