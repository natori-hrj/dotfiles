# rules/coding-style.md
---
name: coding-style
description: コーディングスタイルガイドライン
---

## 基本原則

### シンプルさ優先
- 読みやすさ > 巧妙さ
- 必要最小限のコードを書く
- 早すぎる最適化を避ける
- 1つの関数は1つの責務

### イミュータビリティ
- 可能な限り `const` を使用
- オブジェクトの直接変更を避ける
- 純粋関数を優先
- 副作用を最小限に

### ファイル構成
- 1ファイル1コンポーネント/クラス
- ファイルサイズは300行以下を目安
- 関連するコードはディレクトリでグループ化
- index.tsでの再エクスポートを活用

## 命名規則

### 変数・関数
- キャメルケース: `getUserName`, `isActive`
- ブール値は `is`, `has`, `can` で開始
- 関数は動詞で開始: `get`, `set`, `create`, `delete`

### クラス・型
- パスカルケース: `UserService`, `ApiResponse`
- インターフェースには `I` プレフィックス不要
- 型は具体的に命名

### 定数
- スクリームケース: `MAX_RETRY_COUNT`
- 環境変数: `UPPER_SNAKE_CASE`

## エラーハンドリング

### 必須事項
- try-catchで適切にエラーを補足
- エラーメッセージは具体的に
- エラーログには十分なコンテキストを含める
- ユーザー向けと開発者向けのメッセージを分離

### 避けるべきこと
- 空のcatchブロック
- エラーの握りつぶし
- 汎用的すぎるエラーメッセージ

## コメント

### 書くべき場合
- 「なぜ」そうしたかの説明
- 複雑なビジネスロジック
- 一時的な回避策（TODO付き）
- 公開APIのドキュメント

### 書くべきでない場合
- 「何をしているか」の説明（コードで表現）
- 明らかなコード
- コメントアウトしたコード（削除する）
